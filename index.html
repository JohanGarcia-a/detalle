<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Para ti ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    
    <style>
        /* === CONFIGURACI√ìN DEL ESCENARIO === */
        body {
            margin: 0;
            height: 100vh;
            background: linear-gradient(-45deg, #020024, #090979, #240b36, #1a0b1c, #000000);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            font-family: 'Great Vibes', cursive;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* === TEXTOS PRINCIPALES === */
        .message-container {
            position: absolute;
            top: 5%;
            z-index: 50;
            text-align: center;
            pointer-events: none;
            width: 100%;
            padding: 0 20px;
            box-sizing: border-box;
        }

        h1 {
            color: #ff99c8;
            /* Texto adaptable: m√≠nimo 2.5rem, ideal 6vw, m√°ximo 4rem */
            font-size: clamp(2.5rem, 6vw, 4rem);
            margin: 0;
            text-shadow: 0 0 20px rgba(255, 105, 180, 0.6);
            opacity: 0;
            transform: translateY(-20px);
            animation: fadeInText 3s ease-out 2s forwards;
            line-height: 1.2;
        }

        p {
            color: #ffffff;
            font-size: clamp(1.5rem, 4vw, 2rem);
            margin-top: 10px;
            opacity: 0;
            animation: fadeInText 3s ease-out 3s forwards;
        }

        /* === BOT√ìN DE CARTA === */
        .letter-btn {
            position: absolute;
            bottom: 40px;
            z-index: 100;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 15px 40px;
            border-radius: 50px;
            color: white;
            font-family: 'Great Vibes', cursive;
            font-size: clamp(1.8rem, 5vw, 2.2rem);
            cursor: pointer;
            backdrop-filter: blur(5px);
            transition: all 0.4s ease;
            box-shadow: 0 0 15px rgba(255, 105, 180, 0.3);
            outline: none;
            opacity: 0;
            animation: fadeInBtn 1s ease-out 4s forwards, floatBtn 3s ease-in-out infinite 4s;
            /* Evitar toques accidentales en zoom */
            touch-action: manipulation;
        }

        .letter-btn:hover, .letter-btn:active {
            background: rgba(255, 255, 255, 0.25);
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(255, 105, 180, 0.8);
            text-shadow: 0 0 10px white;
        }

        /* === MODAL DE MENSAJE (CARTA) === */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(8px);
            z-index: 200;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
            padding: 20px;
            box-sizing: border-box;
        }

        .modal-overlay.open {
            opacity: 1;
            pointer-events: all;
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(40, 10, 40, 0.95), rgba(10, 5, 20, 0.98));
            border: 2px solid rgba(255, 153, 200, 0.5);
            padding: 30px 20px;
            border-radius: 20px;
            width: 100%;
            max-width: 600px;
            max-height: 85vh;
            overflow-y: auto;
            text-align: center;
            color: #fff;
            box-shadow: 0 0 50px rgba(255, 105, 180, 0.4);
            transform: scale(0.8) translateY(50px);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
        }

        .modal-content::-webkit-scrollbar { width: 6px; }
        .modal-content::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.1); border-radius: 4px; }
        .modal-content::-webkit-scrollbar-thumb { background: #ff99c8; border-radius: 4px; }

        .modal-overlay.open .modal-content {
            transform: scale(1) translateY(0);
        }

        .modal-content::before {
            content: 'üíå';
            font-size: 3.5rem;
            display: block;
            margin-bottom: 10px;
            filter: drop-shadow(0 0 10px rgba(255,255,255,0.5));
        }

        .modal-title {
            font-size: clamp(2.5rem, 5vw, 3rem);
            color: #ff99c8;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(255, 153, 200, 0.5);
            position: sticky;
            top: 0;
        }

        .modal-text {
            font-size: clamp(1.4rem, 4vw, 1.8rem);
            line-height: 1.5;
            color: #e0e0e0;
            margin-bottom: 25px;
            white-space: pre-line;
            text-shadow: 1px 1px 2px black;
        }

        .close-btn {
            background: transparent;
            border: 2px solid #ff99c8;
            color: #ff99c8;
            padding: 10px 30px;
            border-radius: 30px;
            cursor: pointer;
            font-family: 'Great Vibes', cursive;
            font-size: 1.5rem;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .close-btn:hover {
            background: #ff99c8;
            color: #1a0b1c;
            box-shadow: 0 0 15px #ff99c8;
        }

        /* === CONTENEDOR FLORES === */
        .bouquet-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            transform: translateY(30px);
            transition: transform 0.5s ease;
        }

        .glow-bg {
            position: absolute;
            width: 700px;
            height: 700px;
            /* Ajuste responsivo para el brillo */
            max-width: 90vw;
            max-height: 90vw;
            background: radial-gradient(circle, rgba(255, 105, 180, 0.15) 0%, rgba(123, 44, 191, 0.1) 40%, transparent 70%);
            border-radius: 50%;
            animation: pulseGlow 5s infinite alternate;
            z-index: 0;
        }

        .flower-wrapper {
            position: absolute;
            display: flex;
            justify-content: center;
            align-items: center;
            transform-origin: bottom center;
            filter: drop-shadow(0 15px 25px rgba(0,0,0,0.6));
        }

        /* === MEDIA QUERIES (Para Celulares) === */
        @media (max-width: 768px) {
            .bouquet-container {
                /* Reducimos el ramo al 65% en m√≥viles para que quepa bien */
                transform: translateY(10px) scale(0.65);
            }
            
            .letter-btn {
                bottom: 30px;
                padding: 12px 30px;
            }

            .modal-content {
                padding: 25px 15px;
            }
        }

        /* === ANIMACIONES === */
        @keyframes fadeInText { to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInBtn { to { opacity: 1; } }
        @keyframes floatBtn { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        @keyframes pulseGlow { from { transform: scale(1); opacity: 0.5; } to { transform: scale(1.1); opacity: 0.8; } }
        @keyframes growFlower { 0% { transform: scale(0) rotate(var(--rot)); opacity: 0; } 100% { transform: scale(var(--scale)) rotate(var(--rot)); opacity: 1; } }
        @keyframes sway { 0% { transform: rotate(calc(var(--rot) - 3deg)) scale(var(--scale)); } 100% { transform: rotate(calc(var(--rot) + 3deg)) scale(var(--scale)); } }
        @keyframes bloomPetal { 0% { opacity: 0; transform: scale(0.8); } 100% { opacity: 1; transform: scale(1); } }
        @keyframes fadeInStamen { to { opacity: 1; } }

        .sparkle {
            position: absolute;
            background: white;
            border-radius: 50%;
            box-shadow: 0 0 10px #fff, 0 0 20px #ff00ff;
            opacity: 0;
            pointer-events: none;
            animation: floatSparkle 8s linear infinite;
        }
        @keyframes floatSparkle { 0% { transform: translateY(100vh) scale(0); opacity: 0; } 50% { opacity: 1; } 100% { transform: translateY(-10vh) scale(1); opacity: 0; } }
        
        .petal { transform-origin: center; transform-box: fill-box; opacity: 0; animation: bloomPetal 1.5s ease-out forwards; }
        .stamen { opacity: 0; animation: fadeInStamen 1s ease-out forwards; }
    </style>
</head>
<body>

    <div class="message-container">
        <h1>Para ti mi amor</h1>
        <p>Un jard√≠n de colores para ti ‚ù§Ô∏è</p>
    </div>

    <!-- BOT√ìN PARA ABRIR CARTA -->
    <button class="letter-btn" onclick="openLetter()">
        Abrir Carta üíå
    </button>

    <!-- MODAL DE LA CARTA -->
    <div class="modal-overlay" id="letterModal">
        <div class="modal-content">
            <h2 class="modal-title">Para Ti</h2>
            <div class="modal-text">
                "S√© que a lo mejor no soy lo mejor para ti,<br>
                no soy especial en nada, pero te amo con todo mi coraz√≥n.<br>
                Te quiero m√°s que a mi propia vida, porque mi vida eres t√∫.<br><br>
                No he podido estar siempre en todos los momentos especiales,<br>
                y eso es lo que me ha alejado de ti.<br><br>
                A lo mejor prefieres a alguien que est√© contigo todos los d√≠as,<br>
                y yo no lo he estado por tratar de mejorar un futuro juntos.<br><br>
                Solo quiero que sepas que te amo y eres especial para m√≠.<br>
                No te quiero perder."
            </div>
            <button class="close-btn" onclick="closeLetter()">Guardar Carta</button>
        </div>
    </div>

    <div class="bouquet-container" id="bouquet">
        <div class="glow-bg"></div>
        
        <!-- SVG Definitions -->
        <svg style="position: absolute; width: 0; height: 0; overflow: hidden;">
            <defs>
                <radialGradient id="gradPink" cx="50%" cy="80%" r="70%"><stop offset="0%" stop-color="#590d22" /><stop offset="25%" stop-color="#ff006e" /><stop offset="60%" stop-color="#ff5c8d" /><stop offset="95%" stop-color="#ffccd5" /></radialGradient>
                <linearGradient id="shadowPink" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#800f2f" /><stop offset="100%" stop-color="#c9184a" /></linearGradient>

                <radialGradient id="gradPurple" cx="50%" cy="80%" r="70%"><stop offset="0%" stop-color="#240046" /><stop offset="25%" stop-color="#7b2cbf" /><stop offset="60%" stop-color="#c77dff" /><stop offset="95%" stop-color="#e0aaff" /></radialGradient>
                <linearGradient id="shadowPurple" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#3c096c" /><stop offset="100%" stop-color="#7b2cbf" /></linearGradient>

                <radialGradient id="gradWhite" cx="50%" cy="80%" r="70%"><stop offset="0%" stop-color="#386641" /><stop offset="20%" stop-color="#a7c957" /><stop offset="50%" stop-color="#f2e8cf" /><stop offset="95%" stop-color="#ffffff" /></radialGradient>
                <linearGradient id="shadowWhite" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#6a994e" /><stop offset="100%" stop-color="#a7c957" /></linearGradient>

                <radialGradient id="gradSunset" cx="50%" cy="80%" r="70%"><stop offset="0%" stop-color="#6a040f" /><stop offset="25%" stop-color="#d00000" /><stop offset="60%" stop-color="#e85d04" /><stop offset="95%" stop-color="#ffba08" /></radialGradient>
                <linearGradient id="shadowSunset" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#9d0208" /><stop offset="100%" stop-color="#dc2f02" /></linearGradient>

                <filter id="softGlow"><feGaussianBlur stdDeviation="0.3" result="coloredBlur"/><feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
            </defs>

            <!-- S√≠mbolos de Flores -->
            <symbol id="lily-pink" viewBox="0 0 200 200">
                <path d="M100,200 Q95,150 100,120" stroke="#2d6a4f" stroke-width="5" fill="none" />
                <g class="layer-back"><path class="petal" d="M100,120 Q70,90 60,50 Q85,80 100,120 Z" fill="url(#shadowPink)" style="animation-delay: 0.1s" /><path class="petal" d="M100,120 Q130,90 140,50 Q115,80 100,120 Z" fill="url(#shadowPink)" style="animation-delay: 0.2s" /><path class="petal" d="M100,120 Q100,80 100,40 Q100,80 100,120 Z" fill="url(#shadowPink)" style="animation-delay: 0.3s" /></g>
                <g class="layer-front" filter="url(#softGlow)"><path class="petal" d="M100,125 C80,100 40,80 30,40 C60,60 90,100 100,125 Z" fill="url(#gradPink)" style="animation-delay: 0.4s" /><path class="petal" d="M100,125 C120,100 160,80 170,40 C140,60 110,100 100,125 Z" fill="url(#gradPink)" style="animation-delay: 0.5s" /><path class="petal" d="M100,125 C90,80 80,30 100,10 C120,30 110,80 100,125 Z" fill="url(#gradPink)" style="animation-delay: 0.6s" /></g>
                <g class="stamen-group" style="animation-delay: 1.0s"><circle cx="95" cy="80" r="1.8" fill="#590d22" class="stamen" style="animation-delay: 0.8s"/><circle cx="105" cy="85" r="1.2" fill="#590d22" class="stamen" style="animation-delay: 0.9s"/><circle cx="100" cy="70" r="1.8" fill="#590d22" class="stamen" style="animation-delay: 1.0s"/><path d="M100,125 Q90,90 85,70" stroke="#ffea00" stroke-width="2" fill="none" class="stamen" style="animation-delay: 1.1s" /><path d="M100,125 Q110,90 115,70" stroke="#ffea00" stroke-width="2" fill="none" class="stamen" style="animation-delay: 1.2s" /><path d="M100,125 Q100,90 100,60" stroke="#70e000" stroke-width="2.5" fill="none" class="stamen" style="animation-delay: 1.3s" /><ellipse cx="85" cy="70" rx="2.5" ry="4.5" fill="#800f2f" class="stamen" style="animation-delay: 1.4s"/><ellipse cx="115" cy="70" rx="2.5" ry="4.5" fill="#800f2f" class="stamen" style="animation-delay: 1.4s"/></g>
            </symbol>
            
            <symbol id="lily-purple" viewBox="0 0 200 200">
                <path d="M100,200 Q95,150 100,120" stroke="#2d6a4f" stroke-width="5" fill="none" />
                <g class="layer-back"><path class="petal" d="M100,120 Q70,90 60,50 Q85,80 100,120 Z" fill="url(#shadowPurple)" style="animation-delay: 0.1s" /><path class="petal" d="M100,120 Q130,90 140,50 Q115,80 100,120 Z" fill="url(#shadowPurple)" style="animation-delay: 0.2s" /><path class="petal" d="M100,120 Q100,80 100,40 Q100,80 100,120 Z" fill="url(#shadowPurple)" style="animation-delay: 0.3s" /></g>
                <g class="layer-front" filter="url(#softGlow)"><path class="petal" d="M100,125 C80,100 40,80 30,40 C60,60 90,100 100,125 Z" fill="url(#gradPurple)" style="animation-delay: 0.4s" /><path class="petal" d="M100,125 C120,100 160,80 170,40 C140,60 110,100 100,125 Z" fill="url(#gradPurple)" style="animation-delay: 0.5s" /><path class="petal" d="M100,125 C90,80 80,30 100,10 C120,30 110,80 100,125 Z" fill="url(#gradPurple)" style="animation-delay: 0.6s" /></g>
                <g class="stamen-group" style="animation-delay: 1.0s"><circle cx="95" cy="80" r="1.8" fill="#240046" class="stamen" style="animation-delay: 0.8s"/><circle cx="105" cy="85" r="1.2" fill="#240046" class="stamen" style="animation-delay: 0.9s"/><circle cx="100" cy="70" r="1.8" fill="#240046" class="stamen" style="animation-delay: 1.0s"/><path d="M100,125 Q90,90 85,70" stroke="#e0aaff" stroke-width="2" fill="none" class="stamen" style="animation-delay: 1.1s" /><path d="M100,125 Q110,90 115,70" stroke="#e0aaff" stroke-width="2" fill="none" class="stamen" style="animation-delay: 1.2s" /><path d="M100,125 Q100,90 100,60" stroke="#90e0ef" stroke-width="2.5" fill="none" class="stamen" style="animation-delay: 1.3s" /><ellipse cx="85" cy="70" rx="2.5" ry="4.5" fill="#3c096c" class="stamen" style="animation-delay: 1.4s"/><ellipse cx="115" cy="70" rx="2.5" ry="4.5" fill="#3c096c" class="stamen" style="animation-delay: 1.4s"/></g>
            </symbol>

            <symbol id="lily-white" viewBox="0 0 200 200">
                <path d="M100,200 Q95,150 100,120" stroke="#2d6a4f" stroke-width="5" fill="none" />
                <g class="layer-back"><path class="petal" d="M100,120 Q70,90 60,50 Q85,80 100,120 Z" fill="url(#shadowWhite)" style="animation-delay: 0.1s" /><path class="petal" d="M100,120 Q130,90 140,50 Q115,80 100,120 Z" fill="url(#shadowWhite)" style="animation-delay: 0.2s" /><path class="petal" d="M100,120 Q100,80 100,40 Q100,80 100,120 Z" fill="url(#shadowWhite)" style="animation-delay: 0.3s" /></g>
                <g class="layer-front" filter="url(#softGlow)"><path class="petal" d="M100,125 C80,100 40,80 30,40 C60,60 90,100 100,125 Z" fill="url(#gradWhite)" style="animation-delay: 0.4s" /><path class="petal" d="M100,125 C120,100 160,80 170,40 C140,60 110,100 100,125 Z" fill="url(#gradWhite)" style="animation-delay: 0.5s" /><path class="petal" d="M100,125 C90,80 80,30 100,10 C120,30 110,80 100,125 Z" fill="url(#gradWhite)" style="animation-delay: 0.6s" /></g>
                <g class="stamen-group" style="animation-delay: 1.0s"><path d="M100,125 Q90,90 85,70" stroke="#ffb703" stroke-width="2" fill="none" class="stamen" style="animation-delay: 1.1s" /><path d="M100,125 Q110,90 115,70" stroke="#ffb703" stroke-width="2" fill="none" class="stamen" style="animation-delay: 1.2s" /><path d="M100,125 Q100,90 100,60" stroke="#8cb369" stroke-width="2.5" fill="none" class="stamen" style="animation-delay: 1.3s" /><ellipse cx="85" cy="70" rx="2.5" ry="4.5" fill="#bc6c25" class="stamen" style="animation-delay: 1.4s"/><ellipse cx="115" cy="70" rx="2.5" ry="4.5" fill="#bc6c25" class="stamen" style="animation-delay: 1.4s"/></g>
            </symbol>

            <symbol id="lily-sunset" viewBox="0 0 200 200">
                <path d="M100,200 Q95,150 100,120" stroke="#2d6a4f" stroke-width="5" fill="none" />
                <g class="layer-back"><path class="petal" d="M100,120 Q70,90 60,50 Q85,80 100,120 Z" fill="url(#shadowSunset)" style="animation-delay: 0.1s" /><path class="petal" d="M100,120 Q130,90 140,50 Q115,80 100,120 Z" fill="url(#shadowSunset)" style="animation-delay: 0.2s" /><path class="petal" d="M100,120 Q100,80 100,40 Q100,80 100,120 Z" fill="url(#shadowSunset)" style="animation-delay: 0.3s" /></g>
                <g class="layer-front" filter="url(#softGlow)"><path class="petal" d="M100,125 C80,100 40,80 30,40 C60,60 90,100 100,125 Z" fill="url(#gradSunset)" style="animation-delay: 0.4s" /><path class="petal" d="M100,125 C120,100 160,80 170,40 C140,60 110,100 100,125 Z" fill="url(#gradSunset)" style="animation-delay: 0.5s" /><path class="petal" d="M100,125 C90,80 80,30 100,10 C120,30 110,80 100,125 Z" fill="url(#gradSunset)" style="animation-delay: 0.6s" /></g>
                <g class="stamen-group" style="animation-delay: 1.0s"><circle cx="95" cy="80" r="1.8" fill="#370617" class="stamen" style="animation-delay: 0.8s"/><circle cx="105" cy="85" r="1.2" fill="#370617" class="stamen" style="animation-delay: 0.9s"/><circle cx="100" cy="70" r="1.8" fill="#370617" class="stamen" style="animation-delay: 1.0s"/><path d="M100,125 Q90,90 85,70" stroke="#ffba08" stroke-width="2" fill="none" class="stamen" style="animation-delay: 1.1s" /><path d="M100,125 Q110,90 115,70" stroke="#ffba08" stroke-width="2" fill="none" class="stamen" style="animation-delay: 1.2s" /><path d="M100,125 Q100,90 100,60" stroke="#6a994e" stroke-width="2.5" fill="none" class="stamen" style="animation-delay: 1.3s" /><ellipse cx="85" cy="70" rx="2.5" ry="4.5" fill="#6a040f" class="stamen" style="animation-delay: 1.4s"/><ellipse cx="115" cy="70" rx="2.5" ry="4.5" fill="#6a040f" class="stamen" style="animation-delay: 1.4s"/></g>
            </symbol>
        </svg>
    </div>

    <script>
        const container = document.getElementById('bouquet');
        const types = ['#lily-pink', '#lily-purple', '#lily-white', '#lily-sunset'];
        const flowers = [
            { s: 1.0, r: 0, x: 0, y: -90, z: 1, d: 2.0, t: 1 },
            { s: 1.1, r: -20, x: -80, y: -70, z: 2, d: 2.1, t: 2 },
            { s: 1.1, r: 20, x: 80, y: -70, z: 2, d: 2.2, t: 3 },
            { s: 1.1, r: -40, x: -140, y: -20, z: 3, d: 2.3, t: 0 },
            { s: 1.1, r: 40, x: 140, y: -20, z: 3, d: 2.4, t: 1 },
            { s: 1.5, r: -15, x: -100, y: 30, z: 10, d: 1.0, t: 3 },
            { s: 1.5, r: 15, x: 100, y: 30, z: 10, d: 1.2, t: 2 },
            { s: 1.4, r: -55, x: -180, y: 100, z: 10, d: 1.4, t: 1 },
            { s: 1.4, r: 55, x: 180, y: 100, z: 10, d: 1.6, t: 0 },
            { s: 1.9, r: 0, x: 0, y: 40, z: 30, d: 0, t: 0 },
            { s: 1.6, r: -10, x: -60, y: 120, z: 25, d: 0.3, t: 1 },
            { s: 1.6, r: 10, x: 60, y: 120, z: 25, d: 0.5, t: 3 },
            { s: 1.3, r: -35, x: -130, y: 160, z: 20, d: 0.7, t: 2 },
            { s: 1.3, r: 35, x: 130, y: 160, z: 20, d: 0.9, t: 1 },
        ];

        flowers.forEach(f => {
            const wrapper = document.createElement('div');
            wrapper.classList.add('flower-wrapper', 'grow-anim');
            wrapper.style.setProperty('--scale', f.s);
            wrapper.style.setProperty('--rot', f.r + 'deg');
            wrapper.style.animationDelay = f.d + 's';
            wrapper.style.zIndex = f.z;
            wrapper.style.left = `calc(50% + ${f.x}px - 100px)`; 
            wrapper.style.top = `calc(50% + ${f.y}px - 100px)`;

            const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            svg.setAttribute("width", "200");
            svg.setAttribute("height", "200");
            svg.style.overflow = "visible";
            const use = document.createElementNS("http://www.w3.org/2000/svg", "use");
            use.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', types[f.t]);
            svg.appendChild(use);
            wrapper.appendChild(svg);
            
            wrapper.addEventListener('animationend', (e) => {
                if (e.animationName === 'growFlower') {
                    wrapper.classList.add('sway-anim');
                    wrapper.style.transform = `scale(${f.s}) rotate(${f.r}deg)`;
                }
            });
            container.appendChild(wrapper);
        });

        function createSparkles() {
            const sparkle = document.createElement('div');
            sparkle.classList.add('sparkle');
            const size = Math.random() * 4 + 2 + 'px';
            sparkle.style.width = size;
            sparkle.style.height = size;
            sparkle.style.left = Math.random() * 100 + 'vw';
            sparkle.style.animationDuration = Math.random() * 5 + 5 + 's';
            document.body.appendChild(sparkle);
            setTimeout(() => { sparkle.remove(); }, 10000);
        }
        setInterval(createSparkles, 200);

        // L√ìGICA DEL MODAL (CARTA)
        const letterModal = document.getElementById('letterModal');
        
        function openLetter() {
            letterModal.classList.add('open');
        }
        
        function closeLetter() {
            letterModal.classList.remove('open');
        }
    </script>
</body>
</html>
