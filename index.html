<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para ti ❤️</title>
    <link href="https://fonts.googleapis.com/css2?family=Parisienne&display=swap" rel="stylesheet">
    
    <style>
        /* === AMBIENTE Y FONDO === */
        body {
            margin: 0;
            height: 100vh;
            background: radial-gradient(circle at center, #2b1029 0%, #0f0518 100%); /* Fondo oscuro elegante */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            font-family: 'Parisienne', cursive;
        }

        /* === TEXTOS === */
        .title-container {
            position: absolute;
            top: 10%;
            text-align: center;
            z-index: 100;
            pointer-events: none;
        }

        h1 {
            color: #ffcae5;
            font-size: 3.5rem;
            margin: 0;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.8), 0 0 20px rgba(255, 105, 180, 0.4);
            opacity: 0;
            transform: translateY(-20px);
            animation: textReveal 3s ease-out 5s forwards;
        }

        .subtitle {
            color: #ffffff;
            font-size: 1.8rem;
            margin-top: 10px;
            opacity: 0;
            animation: textReveal 3s ease-out 6s forwards;
        }

        /* === ESCENARIO DEL RAMO === */
        .bouquet {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            filter: drop-shadow(0 20px 30px rgba(0,0,0,0.5)); /* Sombra general al ramo */
        }

        /* === ESTILOS SVG === */
        .flower {
            position: absolute;
            overflow: visible;
        }

        /* Animación del Trazado (Dibujo) */
        .draw-path {
            fill: transparent;
            stroke: #ffd700; /* Trazos dorados al inicio */
            stroke-width: 1;
            stroke-dasharray: 1500;
            stroke-dashoffset: 1500;
            animation: draw 4s ease-in-out forwards;
        }

        /* Animación del Relleno (Color) */
        .bloom-layer {
            opacity: 0;
            animation: bloom 2.5s ease-in-out forwards;
        }

        /* Estilo de los Pétalos */
        .petal-style {
            stroke: rgba(255, 105, 180, 0.3); /* Borde sutil al final */
            stroke-width: 0.5px;
        }

        /* Movimiento de vida (bamboleo) */
        .alive {
            animation: float 6s ease-in-out infinite alternate;
            transform-origin: bottom center;
        }

        /* === KEYFRAMES === */
        @keyframes draw {
            to { stroke-dashoffset: 0; }
        }

        @keyframes bloom {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        @keyframes textReveal {
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes float {
            0% { transform: rotate(-2deg) translateY(0); }
            100% { transform: rotate(2deg) translateY(-5px); }
        }

        /* Partículas Mágicas (Luciérnagas) */
        .firefly {
            position: absolute;
            width: 4px;
            height: 4px;
            background-color: #ffd700;
            border-radius: 50%;
            box-shadow: 0 0 10px #ffd700, 0 0 20px #ff69b4;
            opacity: 0;
            animation: fly 8s infinite linear;
            pointer-events: none;
        }

        @keyframes fly {
            0% { opacity: 0; transform: translate(0, 0); }
            10% { opacity: 1; }
            50% { opacity: 0.5; }
            90% { opacity: 1; }
            100% { opacity: 0; transform: translate(var(--x-end), -100vh); }
        }

    </style>
</head>
<body>

    <div class="title-container">
        <h1>¡Feliz Día del Amor y la Amistad!</h1>
        <div class="subtitle">Eres mi persona favorita ❤️</div>
    </div>

    <div class="bouquet" id="garden">
        
        <svg style="display: none;">
            <symbol id="lux-lily" viewBox="0 0 300 300">
                <defs>
                    <radialGradient id="petalGlow" cx="50%" cy="80%" r="70%">
                        <stop offset="0%" stop-color="#4a0418" /> <stop offset="20%" stop-color="#ff0055" /> <stop offset="50%" stop-color="#ff69b4" /> <stop offset="90%" stop-color="#ffeef5" /> </radialGradient>

                    <linearGradient id="backPetalShadow" x1="0" y1="0" x2="0" y2="1">
                        <stop offset="0%" stop-color="#b32d58" />
                        <stop offset="100%" stop-color="#ff8da1" />
                    </linearGradient>

                    <pattern id="speckles" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
                        <circle cx="2" cy="2" r="1" fill="#780822" opacity="0.6"/>
                        <circle cx="10" cy="12" r="1.5" fill="#780822" opacity="0.6"/>
                        <circle cx="15" cy="5" r="0.8" fill="#780822" opacity="0.6"/>
                    </pattern>
                </defs>

                <path class="draw-path" d="M150,300 Q145,230 150,180" stroke="#2d5a27" stroke-width="4" fill="none" />

                <g class="bloom-layer" style="animation-delay: 0.5s">
                    <path class="petal-style" d="M150,180 Q110,140 100,80 Q130,120 150,180 Z" fill="url(#backPetalShadow)" /> <path class="petal-style" d="M150,180 Q190,140 200,80 Q170,120 150,180 Z" fill="url(#backPetalShadow)" /> <path class="petal-style" d="M150,180 Q150,120 150,60 Q150,120 150,180 Z" fill="url(#backPetalShadow)" /> </g>

                <g class="bloom-layer" style="animation-delay: 0.8s">
                    <path class="petal-style" d="M150,185 C120,130 90,50 150,10 C210,50 180,130 150,185 Z" fill="url(#petalGlow)" />
                    <path class="petal-style" d="M150,185 C100,170 40,140 30,90 C70,110 120,160 150,185 Z" fill="url(#petalGlow)" />
                    <path class="petal-style" d="M150,185 C200,170 260,140 270,90 C230,110 180,160 150,185 Z" fill="url(#petalGlow)" />
                    
                    <path d="M150,185 C130,140 110,80 150,40 C190,80 170,140 150,185 Z" fill="url(#speckles)" opacity="0.7" style="mix-blend-mode: multiply;" />
                </g>

                <g class="draw-path">
                     <path d="M150,185 C120,130 90,50 150,10 C210,50 180,130 150,185 Z" />
                    <path d="M150,185 C100,170 40,140 30,90 C70,110 120,160 150,185 Z" />
                    <path d="M150,185 C200,170 260,140 270,90 C230,110 180,160 150,185 Z" />
                </g>

                <g class="bloom-layer" style="animation-delay: 1.5s">
                    <path d="M150,185 Q140,140 135,110" stroke="#780822" stroke-width="2" fill="none" />
                    <path d="M150,185 Q160,140 165,110" stroke="#780822" stroke-width="2" fill="none" />
                    <path d="M150,185 Q150,140 150,100" stroke="#8cb369" stroke-width="2" fill="none" /> <ellipse cx="135" cy="110" rx="3" ry="5" fill="#590518" />
                    <ellipse cx="165" cy="110" rx="3" ry="5" fill="#590518" />
                    <circle cx="150" cy="100" r="3" fill="#d4e09b" />
                </g>
            </symbol>
        </svg>
    </div>

    <script>
        const garden = document.getElementById('garden');
        
        // CONFIGURACIÓN DEL RAMO (Posiciones calculadas para volumen)
        // Scale: tamaño, Z-index: capa, Rot: rotación
        const bouquetConfig = [
            { x: 0, y: -20, scale: 1.5, rot: 0, z: 10, delay: 0 },     // Central Gigante
            { x: -100, y: 50, scale: 1.1, rot: -30, z: 8, delay: 0.5 }, // Izquierda Media
            { x: 100, y: 50, scale: 1.1, rot: 30, z: 8, delay: 0.8 },  // Derecha Media
            { x: -50, y: 150, scale: 0.9, rot: -15, z: 12, delay: 1.2 }, // Abajo Izq
            { x: 50, y: 150, scale: 0.9, rot: 15, z: 12, delay: 1.5 },  // Abajo Der
            { x: 0, y: -130, scale: 0.8, rot: 0, z: 5, delay: 2.0 },    // Arriba Fondo (Pico)
            { x: -140, y: -40, scale: 0.8, rot: -45, z: 4, delay: 2.2 }, // Fondo Lejano Izq
            { x: 140, y: -40, scale: 0.8, rot: 45, z: 4, delay: 2.5 }   // Fondo Lejano Der
        ];

        // GENERAR FLORES
        bouquetConfig.forEach(config => {
            const wrapper = document.createElement('div');
            wrapper.classList.add('flower', 'alive');
            
            // Posicionamiento
            wrapper.style.left = `calc(50% + ${config.x}px - 150px)`; // Centrado matemático
            wrapper.style.top = `calc(50% + ${config.y}px - 150px)`;
            wrapper.style.zIndex = config.z;
            wrapper.style.transform = `scale(${config.scale}) rotate(${config.rot}deg)`;
            
            // Crear SVG
            const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            svg.setAttribute("width", "300");
            svg.setAttribute("height", "300");
            svg.style.overflow = "visible";

            const use = document.createElementNS("http://www.w3.org/2000/svg", "use");
            use.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', '#lux-lily');
            
            svg.appendChild(use);
            wrapper.appendChild(svg);
            garden.appendChild(wrapper);

            // Ajustar retraso de animación individualmente
            const animations = wrapper.querySelectorAll('.draw-path, .bloom-layer');
            animations.forEach(el => {
                // Sumamos el delay base + el delay de configuración de la flor
                const existingDelay = parseFloat(getComputedStyle(el).animationDelay) || 0;
                el.style.animationDelay = (existingDelay + config.delay) + 's';
            });
        });

        // GENERAR LUCIÉRNAGAS (AMBIENTE)
        function createFireflies() {
            for(let i=0; i<30; i++) {
                const fly = document.createElement('div');
                fly.classList.add('firefly');
                fly.style.left = Math.random() * 100 + 'vw';
                fly.style.top = Math.random() * 100 + 'vh';
                fly.style.animationDelay = Math.random() * 5 + 's';
                fly.style.setProperty('--x-end', (Math.random() * 200 - 100) + 'px');
                document.body.appendChild(fly);
            }
        }
        createFireflies();

    </script>
</body>
</html>
