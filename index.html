<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creando para ti ❤️</title>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    
    <style>
        /* === ESTILOS GENERALES === */
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            background: radial-gradient(circle at center, #ffe5ec 0%, #ffc2d1 100%);
            font-family: 'Great Vibes', cursive;
            overflow: hidden;
            color: #c9184a;
        }

        h1 {
            font-size: 3rem;
            margin-top: 30px;
            text-shadow: 1px 1px 3px rgba(255,255,255,0.8);
            opacity: 0; /* Oculto al inicio */
            animation: fadeInSlow 2s ease-out 4s forwards; /* Aparece después de 4s */
        }

        .footer {
            font-size: 2rem;
            margin-bottom: 30px;
            opacity: 0;
            animation: fadeInSlow 2s ease-out 5s forwards;
        }

        /* === CONTENEDOR DEL RAMO SVG === */
        .bouquet-container {
            position: relative;
            width: 400px;
            height: 500px;
            /* border: 1px solid red; /* Descomenta para ver el área */
        }

        /* === ESTILOS SVG PARA LA ANIMACIÓN DE DIBUJADO === */
        .lily-svg {
            position: absolute;
            overflow: visible;
        }

        /* Definición de los trazos (contornos) */
        .lily-path {
            fill: transparent; /* Relleno transparente al inicio */
            stroke-width: 1.5;
            stroke-linecap: round;
            stroke-linejoin: round;
            /* El truco matemático: dasharray largo y offset largo para ocultarlo */
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            /* Animación del trazo */
            animation: drawStroke 4s ease-in-out forwards;
        }

        /* Colores de los contornos */
        .stem-path { stroke: #568259; } /* Tallo verde */
        .petal-path { stroke: #ff8fab; } /* Pétalo rosa */

        /* Animación del Relleno (Color) */
        .lily-filled {
             /* Esta clase se añade con JS después de que termina el trazo */
            animation: fillColor 2s ease-out forwards;
        }

        /* === KEYFRAMES (LAS ANIMACIONES) === */
        /* 1. Dibuja la línea */
        @keyframes drawStroke {
            to { stroke-dashoffset: 0; }
        }

        /* 2. Aparece el color de relleno */
        @keyframes fillColor {
            to { fill-opacity: 1; stroke-opacity: 0.3; }
        }
        
        /* 3. Aparición suave de textos */
        @keyframes fadeInSlow {
            to { opacity: 1; }
        }

        /* 4. Partículas de fondo */
        .particle {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0;
            pointer-events: none;
            box-shadow: 0 0 8px gold;
            animation: sparkle 4s linear infinite;
        }
        @keyframes sparkle {
            0% { transform: scale(0) translateY(0); opacity: 0; }
            50% { opacity: 0.8; }
            100% { transform: scale(1) translateY(-100px); opacity: 0; }
        }

    </style>
</head>
<body>

    <h1>¡Feliz Día del Amor y la Amistad!</h1>

    <div class="bouquet-container" id="bouquetArea">
        <svg style="display: none;">
            <symbol id="lily-symbol" viewBox="0 0 100 150">
                 <defs>
                    <linearGradient id="petalGrad" x1="0%" y1="100%" x2="0%" y2="0%">
                        <stop offset="0%" style="stop-color:#ffc2d1;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#ffffff;stop-opacity:1" />
                    </linearGradient>
                </defs>
                <path class="lily-path stem-path" d="M50,150 C50,120 55,100 50,70" style="fill: none; stroke-width: 3;"/>
                <g class="petal-group" fill="url(#petalGrad)" fill-opacity="0">
                    <path class="lily-path petal-path" d="M50,70 Q30,40 50,10 Q70,40 50,70 Z" /> <path class="lily-path petal-path" d="M50,70 Q20,60 10,30 Q30,50 50,70 Z" /> <path class="lily-path petal-path" d="M50,70 Q80,60 90,30 Q70,50 50,70 Z" /> <path class="lily-path petal-path" d="M50,70 Q35,85 30,110 Q45,90 50,70 Z" /> <path class="lily-path petal-path" d="M50,70 Q65,85 70,110 Q55,90 50,70 Z" /> </g>
                <circle cx="50" cy="65" r="3" fill="#ffd60a" fill-opacity="0" class="lily-path petal-path" style="stroke: #ffd60a;"></circle>
            </symbol>
        </svg>
        </div>

    <div class="footer">
        Gracias por estar en mi vida. ❤️
    </div>


    <script>
        const container = document.getElementById('bouquetArea');
        
        // Configuración para crear el ramo
        // Posiciones relativas (x, y), escala y rotación para cada flor
        const flowersConfig = [
            { x: 150, y: 50, scale: 1.2, rot: 0, delay: 0 },   // Central grande
            { x: 80, y: 100, scale: 0.9, rot: -20, delay: 1 }, // Izquierda
            { x: 220, y: 100, scale: 0.9, rot: 20, delay: 1.5 }, // Derecha
            { x: 120, y: 180, scale: 0.8, rot: -10, delay: 2.5 }, // Abajo izq
            { x: 180, y: 180, scale: 0.8, rot: 10, delay: 3 }    // Abajo der
        ];

        flowersConfig.forEach((config, index) => {
            // Crear el elemento SVG para una flor
            const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            svg.classList.add('lily-svg');
            svg.setAttribute('width', '150px');
            svg.setAttribute('height', '225px');
            
            // Aplicar transformaciones (posición, tamaño, rotación)
            svg.style.left = config.x + 'px';
            svg.style.top = config.y + 'px';
            svg.style.transform = `scale(${config.scale}) rotate(${config.rot}deg)`;
            svg.style.zIndex = Math.round(config.scale * 10); // Las más grandes al frente

            // Usar la plantilla (<symbol>) definida en el HTML
            const use = document.createElementNS("http://www.w3.org/2000/svg", "use");
            use.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', '#lily-symbol');
            svg.appendChild(use);
            container.appendChild(svg);

            // Manejar la animación de dibujado y relleno
            const paths = svg.querySelectorAll('.lily-path');
            const filledParts = svg.querySelectorAll('.petal-group, circle');

            paths.forEach(path => {
                // Retraso en el inicio del dibujado
                path.style.animationDelay = config.delay + 's';

                // Cuando termina de dibujarse el contorno, activar el relleno
                path.addEventListener('animationend', () => {
                    filledParts.forEach(part => {
                        part.style.animationDelay = '0s'; // Iniciar relleno inmediatamente después del trazo
                        part.classList.add('lily-filled');
                    });
                }, { once: true }); // Asegurar que solo se dispare una vez
            });
        });

         // EFECTO EXTRA: Partículas mágicas (Sparkles)
         function createSparkle() {
            const sparkle = document.createElement('div');
            sparkle.classList.add('particle');
            const size = Math.random() * 5 + 2 + 'px';
            sparkle.style.width = size;
            sparkle.style.height = size;
            sparkle.style.left = Math.random() * 100 + 'vw';
            sparkle.style.top = Math.random() * 100 + 'vh';
            sparkle.style.animationDelay = Math.random() * 5 + 's';
            document.body.appendChild(sparkle);
            setTimeout(() => { sparkle.remove(); }, 6000);
        }
        setInterval(createSparkle, 300);

    </script>
</body>
</html>
